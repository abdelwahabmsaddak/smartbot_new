{% extends "base.html" %}

{% block title %}Auto Trading PRO{% endblock %}

{% block content %}
<section class="page-header">
  <div>
    <h1>ğŸ¤– Auto Trading PRO</h1>
    <p class="muted">
      Ø´ØºÙ‘Ù„ Paper Ø§Ù„Ø£ÙˆÙ„. ÙˆÙ‚ØªÙ‡Ø§ Ù†Ø´ÙˆÙÙˆ Ø§Ù„Ù€Logs ÙˆØ§Ù„Ù€Dashboard.
    </p>
  </div>

  <div class="header-cards">
    <div class="mini-card">
      <div class="mini-title">Mode</div>
      <div class="mini-value" id="modeBadge">Paper</div>
    </div>
    <div class="mini-card">
      <div class="mini-title">Exchange</div>
      <div class="mini-value" id="exchangeBadge">â€”</div>
    </div>
  </div>
</section>

<section class="grid">
  <!-- LEFT: Strategy -->
  <div class="card">
    <div class="card-head">
      <h2>ğŸ§  Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ­Ù„ÙŠÙ„</h2>
      <span class="tag">Strategy</span>
    </div>

    <div class="form">
      <label>Asset</label>
      <input id="asset" type="text" placeholder="Ù…Ø«Ø§Ù„: BTC/USDT Ø£Ùˆ XAUUSD Ø£Ùˆ AAPL" />

      <div class="two">
        <div>
          <label>Market</label>
          <select id="market">
            <option value="crypto" selected>Crypto</option>
            <option value="forex">Forex</option>
            <option value="stocks">Stocks</option>
          </select>
        </div>

        <div>
          <label>Timeframe</label>
          <select id="timeframe">
            <option value="1m">1m</option>
            <option value="5m">5m</option>
            <option value="15m">15m</option>
            <option value="1h" selected>1h</option>
            <option value="4h">4h</option>
            <option value="1d">1d</option>
          </select>
        </div>
      </div>

      <label>Minimum Confidence (0-100)</label>
      <input id="min_confidence" type="number" min="0" max="100" value="60" />

      <div class="checkline">
        <input id="halal_strict" type="checkbox" />
        <label for="halal_strict" class="checklabel">Halal strict (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      </div>

      <div class="hint">
        <span class="hint-icon">ğŸ’¡</span>
        <span>ÙƒÙ„ Ù…Ø§ ØªØ±ÙØ¹ Ø§Ù„Ù€ConfidenceØŒ ÙŠÙ‚Ù„Ù‘ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙ‚Ø§Øª Ù„ÙƒÙ† ØªØ²ÙŠØ¯ Ø§Ù„Ø¬ÙˆØ¯Ø©.</span>
      </div>
    </div>
  </div>

  <!-- RIGHT: Account/Execution -->
  <div class="card">
    <div class="card-head">
      <h2>ğŸ§¾ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ / Ø§Ù„ØªÙ†ÙÙŠØ°</h2>
      <span class="tag">Execution</span>
    </div>

    <div class="form">
      <div class="two">
        <div>
          <label>Balance</label>
          <input id="balance" type="number" value="1000" />
        </div>
        <div>
          <label>Risk % per trade</label>
          <input id="risk" type="number" value="1" step="0.1" />
        </div>
      </div>

      <label>Mode</label>
      <select id="mode">
        <option value="paper" selected>Paper (Simulation)</option>
        <option value="live" disabled>Live (Ù‚Ø±ÙŠØ¨Ù‹Ø§)</option>
      </select>

      <label>Exchange (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      <input id="exchange" type="text" placeholder="Ù…Ø«Ø§Ù„: binance" />

      <label>Order Type</label>
      <select id="order_type">
        <option value="MARKET" selected>MARKET</option>
        <option value="LIMIT">LIMIT</option>
      </select>

      <button id="runBtn" class="btn-primary">
        ğŸš€ Run Auto Trade
      </button>

      <div id="status" class="statusbox">
        <span class="dot dot-warn"></span>
        <span>Ø¬Ø§Ù‡Ø²</span>
      </div>

      <div class="divider"></div>

      <div class="two">
        <div class="info">
          <div class="info-title">AI Signal</div>
          <div class="info-sub">Ø§Ù„Ù‚Ø±Ø§Ø± + confidence + Ø§Ù„Ø³Ø¨Ø¨</div>
        </div>
        <div class="info">
          <div class="info-title">Execution Result</div>
          <div class="info-sub">Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙ†ÙÙŠØ° (Paper)</div>
        </div>
      </div>

      <div class="two">
        <pre id="signalOut" class="prebox">â€”</pre>
        <pre id="execOut" class="prebox">â€”</pre>
      </div>
    </div>
  </div>
</section>

<section class="wide card">
  <div class="card-head">
    <h2>ğŸ“Œ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³Ø±ÙŠØ¹Ø©</h2>
    <span class="tag">Tips</span>
  </div>
  <div class="tips">
    <div class="tip">âœ… Ø§Ø³ØªØ¹Ù…Ù„ BTC/USDT ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</div>
    <div class="tip">âœ… Ø®Ù„ÙŠÙ‡ PaperØŒ ÙˆØ´ÙˆÙ Dashboard Ø¨Ø¹Ø¯ Run</div>
    <div class="tip">âš ï¸ Live Ù…Ø§ ÙŠØªÙØªØ­Ø´ Ø­ØªÙ‰ Ù†ÙƒÙ…Ù‘Ù„Ùˆ Ø§Ù„Ø£Ù…Ø§Ù†</div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  // UI sync ØµØºÙŠØ±Ø© (Ù…Ø§ ØªÙ…Ø³Ù‘Ø´ backend)
  const modeEl = document.getElementById("mode");
  const exchangeEl = document.getElementById("exchange");
  const modeBadge = document.getElementById("modeBadge");
  const exchangeBadge = document.getElementById("exchangeBadge");

  function syncBadges(){
    modeBadge.textContent = (modeEl?.value || "paper").toUpperCase();
    exchangeBadge.textContent = exchangeEl?.value?.trim() || "â€”";
  }
  modeEl?.addEventListener("change", syncBadges);
  exchangeEl?.addEventListener("input", syncBadges);
  syncBadges();
</script>

<!-- Ø®Ù„ÙŠ Ø³ÙƒØ±ÙŠØ¨ØªÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ ÙŠØ®Ø¯Ù… -->
<script src="{{ url_for('static', filename='app.js') }}"></script>
{% endblock %}
