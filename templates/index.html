{% extends "base.html" %}
{% block title %}Auto Trading PRO{% endblock %}

{% block content %}
<section class="page-head">
  <div>
    <h1>Auto Trading PRO</h1>
    <p class="muted">Professional UI. Start with Paper mode. Check Dashboard for trades & PnL.</p>
  </div>

  <div class="head-cards">
    <div class="mini">
      <div class="mini-k">Mode</div>
      <div class="mini-v" id="modeBadge">PAPER</div>
    </div>
    <div class="mini">
      <div class="mini-k">Exchange</div>
      <div class="mini-v" id="exchangeBadge">â€”</div>
    </div>
  </div>
</section>

<section class="grid">
  <div class="card">
    <div class="card-head">
      <h2>Strategy</h2>
      <span class="tag">Analysis</span>
    </div>

    <div class="form">
      <label>Asset</label>
      <input id="asset" type="text" placeholder="Example: BTC/USDT, XAUUSD, AAPL" />

      <div class="row2">
        <div>
          <label>Market</label>
          <select id="market">
            <option value="crypto" selected>Crypto</option>
            <option value="stocks">Stocks</option>
            <option value="forex">Forex</option>
          </select>
        </div>
        <div>
          <label>Timeframe</label>
          <select id="timeframe">
            <option value="1m">1m</option>
            <option value="5m">5m</option>
            <option value="15m">15m</option>
            <option value="1h" selected>1h</option>
            <option value="4h">4h</option>
            <option value="1d">1d</option>
          </select>
        </div>
      </div>

      <label>Minimum Confidence (0â€“100)</label>
      <input id="min_confidence" type="number" min="0" max="100" value="60" />

      <div class="checkline">
        <input id="halal_strict" type="checkbox" />
        <label for="halal_strict">Halal strict (optional)</label>
      </div>

      <div class="note">
        <span class="note-ic">ðŸ’¡</span>
        <span>Higher confidence = fewer trades, higher quality.</span>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-head">
      <h2>Execution</h2>
      <span class="tag">Paper / Live</span>
    </div>

    <div class="form">
      <div class="row2">
        <div>
          <label>Balance</label>
          <input id="balance" type="number" value="1000" />
        </div>
        <div>
          <label>Risk %</label>
          <input id="risk" type="number" value="1" step="0.1" />
        </div>
      </div>

      <label>Mode</label>
      <select id="mode">
        <option value="paper" selected>Paper (Simulation)</option>
        <option value="live" disabled>Live (soon)</option>
      </select>

      <label>Exchange (optional)</label>
      <input id="exchange" type="text" placeholder="Example: binance" />

      <label>Order Type</label>
      <select id="order_type">
        <option value="MARKET" selected>MARKET</option>
        <option value="LIMIT">LIMIT</option>
      </select>

      <button id="runBtn" class="btn-primary" type="button">ðŸš€ Run Auto Trade</button>

      <div id="status" class="status">
        <span class="dot dot-warn"></span>
        <span>Ready</span>
      </div>

      <div class="divider"></div>

      <div class="row2">
        <div class="subhead">
          <div class="subhead-t">AI Signal</div>
          <div class="subhead-s">decision â€¢ confidence â€¢ reason</div>
        </div>
        <div class="subhead">
          <div class="subhead-t">Execution Result</div>
          <div class="subhead-s">paper execution output</div>
        </div>
      </div>

      <div class="row2">
        <pre id="signalOut" class="pre">â€”</pre>
        <pre id="execOut" class="pre">â€”</pre>
      </div>
    </div>
  </div>
</section>

<section class="card wide">
  <div class="card-head">
    <h2>Quick Tips</h2>
    <span class="tag">Guide</span>
  </div>
  <div class="tips">
    <div class="tip">âœ… Start with BTC/USDT</div>
    <div class="tip">âœ… Use Paper mode first</div>
    <div class="tip">âœ… Check Dashboard after Run</div>
    <div class="tip warn">âš  Live will stay locked until security checks</div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  // UI badges only (doesn't touch backend)
  const modeEl = document.getElementById("mode");
  const exchangeEl = document.getElementById("exchange");
  const modeBadge = document.getElementById("modeBadge");
  const exchangeBadge = document.getElementById("exchangeBadge");

  function syncBadges(){
    modeBadge.textContent = (modeEl?.value || "paper").toUpperCase();
    exchangeBadge.textContent = exchangeEl?.value?.trim() || "â€”";
  }
  modeEl?.addEventListener("change", syncBadges);
  exchangeEl?.addEventListener("input", syncBadges);
  syncBadges();
</script>

<!-- keep your existing logic -->
<script src="{{ url_for('static', filename='app.js') }}"></script>
{% endblock %}
