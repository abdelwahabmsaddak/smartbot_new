<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>ุชูุจููุงุช ุงูุญูุชุงู | SmartBot</title>
    <link rel="stylesheet" href="style.css" />
</head>

   {% extends "base.html" %}

{% block content %}
<h2>๐ฅ Dashboard</h2>

<p>ูุฑุญุจุง ุจู {{ user.username }} ๐</p>
{% endblock %}
    
<body class="dark-theme">

<header>
    <a class="logo">SmartBot</a>
    <nav>
        <a href="dashboard.html">ููุญุฉ ุงูุชุญูู</a>
        <a href="auto_trading.html">ุงูุชุฏุงูู ุงูุขูู</a>
        <a href="whale_alerts.html" class="active">ุงูุญูุชุงู</a>
        <a href="analysis.html">ุงูุชุญูููุงุช</a>
        <a href="logout.html" class="btn">ุชุณุฌูู ุฎุฑูุฌ</a>
    </nav>
</header>

<main class="container">

    <section class="hero">
        <h1>ุชูุจููุงุช ุงูุญูุชุงู</h1>
        <p>ุชุชุจูุน ุฃูุจุฑ ุงูุชุญุฑูุงุช ูู ุงูุณูู ุงููุญุธูุฉ: ุชุญูููุงุช ูุจูุฑุฉุ ุตููุงุช ูุญุงูุธ ูููุฉุ ุฏุฎูู ูุฎุฑูุฌ ุฑุคูุณ ุงูุฃููุงู.</p>
    </section>

    <section class="whale-box">
        <h2>ุขุฎุฑ ุชุญุฑูุงุช ุงูุญูุชุงู</h2>

        <div id="alerts"></div>
    </section>

</main>

<script>
async function loadWhales() {
    const res = await fetch("/api/whales");
    const data = await res.json();

    const box = document.getElementById("alerts");
    box.innerHTML = "";

    data.forEach(w => {
        box.innerHTML += `
        <div class="alert-item">
            <h3>${w.symbol} | ${w.amount}</h3>
            <p>ูู: ${w.from}</p>
            <p>ุฅูู: ${w.to}</p>
            <p class="time">${w.time}</p>
        </div>`;
    });
}

loadWhales();
setInterval(loadWhales, 15000);
</script>

</body>
</html>
